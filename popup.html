<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=500, initial-scale=1">
<title>ForjaElo Digital ‚Ä¢ Hub SSA 6.7 (Somente Online)</title>
<style>
  :root{
    --primary:#2563eb;--primary-hover:#1d4ed8;--bg:#fff;--text:#1a1a1a;--muted:#64748b;--surface:#f3f4f6;--radius:10px;--gap:1rem;--line:#e5e7eb
  }
  [data-theme="dark"]{--bg:#0f172a;--text:#e2e8f0;--muted:#94a3b8;--surface:#111827;--primary:#3b82f6;--primary-hover:#2563eb;--line:#374151}
  *{box-sizing:border-box}html,body{height:100%}
  body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text);margin:0;display:flex;justify-content:center;align-items:flex-start;padding:var(--gap)}
  a{color:var(--primary)}
  main{width:100%;max-width:500px;min-width:300px;max-height:1000px;min-height:560px;overflow:auto;display:flex;flex-direction:column;gap:var(--gap)}
  header{display:flex;justify-content:space-between;align-items:center}
  h1{font-size:1.15rem;margin:0}
  small, label{color:var(--muted)}
  fieldset{border:1px solid var(--line);border-radius:var(--radius);padding:var(--gap)}
  legend{padding:0 .5em;font-weight:700}
  input,select,textarea,button{width:100%;font-size:.9rem;border:1px solid var(--line);border-radius:8px;background:var(--bg);color:var(--text);padding:.6em}
  textarea{min-height:90px;resize:vertical}
  button{background:var(--primary);color:#fff;border:none;cursor:pointer}
  button:hover{background:var(--primary-hover)}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:.6rem}
  .muted{color:var(--muted);font-size:.8rem}
  .badge{display:inline-block;padding:.2em .5em;border-radius:6px;background:var(--surface);border:1px solid var(--line);font-size:.7rem}
  .kpi{display:flex;gap:.5rem;flex-wrap:wrap}
  .kpi div{background:var(--surface);border:1px solid var(--line);border-radius:8px;padding:.6rem .7rem;min-width:105px;text-align:center}
  .pill{display:inline-flex;gap:.35rem;align-items:center;background:var(--surface);border:1px solid var(--line);border-radius:999px;padding:.25rem .55rem;font-size:.75rem}
  .list{display:flex;flex-direction:column;gap:.5rem}
  .mono{font-family:ui-monospace,SFMono-Regular,Menlo,monospace}
  .nowrap{white-space:nowrap;overflow:auto}
</style>
</head>
<body data-theme="light">
<main>
  <header>
    <h1>ForjaElo Digital ‚Ä¢ Hub SSA 6.7</h1>
    <div style="display:flex;gap:.5rem">
      <button id="theme">üåô Tema</button>
      <button id="reset">‚Ü∫ Limpar</button>
    </div>
  </header>

  <p class="muted">
    Modo <b>somente online</b>. Provas usam <span class="badge">SDE ‚Äî Selo Digital de Espelho</span>
    (hash + carimbo de data). Use SSA 6.7 apenas para <b>formatar</b> o que voc√™ fornecer.
  </p>

  <!-- 1) Funil Din√¢mico (S‚ÄìS‚ÄìS‚ÄìV) -->
  <fieldset>
    <legend>Funil Din√¢mico (S‚ÄìS‚ÄìS‚ÄìV) ‚Ä¢ Gerador de Copy</legend>
    <div class="row">
      <div>
        <label>Sil√™ncio (perguntas)</label>
        <textarea id="fd_s" placeholder="Ex.: O que j√° tentou? Onde trava hoje?"></textarea>
      </div>
      <div>
        <label>Semelhan√ßa (caso pr√≥ximo)</label>
        <textarea id="fd_se" placeholder="Ex.: Pessoas como voc√™ em [bairro] resolveram [dor] com [passo]."></textarea>
      </div>
    </div>
    <div class="row">
      <div>
        <label>Seguran√ßa (piloto online)</label>
        <textarea id="fd_seg" placeholder="Ex.: Convite para call de 12 min / sess√£o de 30 min / sandbox gravado."></textarea>
      </div>
      <div>
        <label>Verdade (limites/crit√©rio)</label>
        <textarea id="fd_v" placeholder="Ex.: N√£o prometemos X; eleg√≠vel se tiver Y e Z."></textarea>
      </div>
    </div>
    <label>CTA (pr√≥ximo passo online)</label>
    <input id="fd_cta" placeholder="Ex.: Agende sua call / Entre no grupo fechado / Gere seu acesso">
    <button id="fd_build">Gerar Copy</button>
    <textarea id="fd_out" class="mono" readonly placeholder="Copy combinada aqui‚Ä¶"></textarea>
    <small class="muted">Dica: troque a ordem livremente (din√¢mica). Sempre feche com um pr√≥ximo passo.</small>
  </fieldset>

  <!-- 2) SDE ‚Äî Selo Digital de Espelho -->
  <fieldset>
    <legend>SDE ‚Äî Selo Digital de Espelho (hash + timestamp)</legend>
    <div class="row">
      <div>
        <label>T√≠tulo/Assunto</label>
        <input id="sde_title" placeholder="Ex.: Caso Talentos ‚Äî ajuste de pre√ßo">
      </div>
      <div>
        <label>Data (BRT)</label>
        <input id="sde_date" type="datetime-local">
      </div>
    </div>
    <label>Resumo factual (3‚Äì5 linhas, sem dados sens√≠veis)</label>
    <textarea id="sde_body" placeholder="Ex.: Resultado digital comprov√°vel, m√©tricas, contexto, links p√∫blicos."></textarea>
    <div class="row">
      <div>
        <label>URLs auxiliares (se houver)</label>
        <textarea id="sde_urls" placeholder="Uma por linha (planilha, p√°gina espelho, v√≠deo)"></textarea>
      </div>
      <div>
        <label>Endossos digitais (ex.: e-mail p√∫blico, post concorrente)</label>
        <textarea id="sde_endorse" placeholder="Uma por linha (prints/anexos link√°veis)"></textarea>
      </div>
    </div>
    <button id="sde_gen">Gerar SDE</button>
    <div class="list">
      <div class="pill"><span>üìÑ</span><code id="sde_id" class="mono nowrap">SDE-</code></div>
      <textarea id="sde_json" class="mono" readonly placeholder="Bundle JSON com carimbo de data e SHA-256‚Ä¶"></textarea>
      <button id="sde_copy">Copiar JSON do SDE</button>
    </div>
    <small class="muted">O SDE √© rastre√°vel (hash). N√£o substitui valida√ß√µes f√≠sicas; serve ao marketing ‚Äúespelho‚Äù e auditoria digital.</small>
  </fieldset>

  <!-- 3) Claim Log (governan√ßa de promessas) -->
  <fieldset>
    <legend>Claim Log (registro de promessas online)</legend>
    <label>Claim (afirma√ß√£o objetiva)</label>
    <input id="cl_claim" placeholder="Ex.: Ajuste de pre√ßo com planilha em 30 min (sem promessa de faturamento).">
    <div class="row">
      <div><label>Canal</label><select id="cl_channel">
        <option>Instagram</option><option>WhatsApp</option><option>YouTube</option>
        <option>Landing</option><option>E-mail</option><option>Ads</option></select></div>
      <div><label>ID SDE (opcional)</label><input id="cl_sde" placeholder="Cole o SDE gerado (SDE-YYYYMMDD-‚Ä¶)"></div>
    </div>
    <div class="row">
      <div><label>Status</label><select id="cl_status"><option>Aprovado</option><option>Pendente</option><option>Arquivado</option></select></div>
      <div><label>UTM (refer√™ncia)</label><input id="cl_utm" placeholder="utm_source=‚Ä¶&utm_medium=‚Ä¶"></div>
    </div>
    <button id="cl_add">Adicionar</button>
    <textarea id="cl_list" class="mono" readonly placeholder="Itens registrados aparecer√£o aqui em JSON‚Ä¶"></textarea>
    <div class="row"><button id="cl_copy">Copiar JSON</button><button id="cl_clear">Limpar</button></div>
    <small class="muted">Bloqueie publica√ß√µes sem SDE quando a pe√ßa invocar ‚Äúprova‚Äù.</small>
  </fieldset>

  <!-- 4) ICx ‚Äî painel de m√©tricas digitais -->
  <fieldset>
    <legend>ICx (Intelig√™ncia de Conex√£o) ‚Ä¢ M√©tricas Digitais</legend>
    <div class="row">
      <div><label>Contatos totais</label><input id="i_tot" type="number" min="0" value="0"></div>
      <div><label>Pr√≥ximo passo aceito</label><input id="i_np" type="number" min="0" value="0"></div>
    </div>
    <div class="row">
      <div><label>Clareza (problema 1 frase)</label><input id="i_clr" type="number" min="0" value="0"></div>
      <div><label>Convers√µes (pilotos online)</label><input id="i_cnv" type="number" min="0" value="0"></div>
    </div>
    <div class="row">
      <div><label>Retornos em 30 dias</label><input id="i_ctd" type="number" min="0" value="0"></div>
      <div><label>Custo cognitivo (min/decis√£o)</label><input id="i_ccg" type="number" min="0" value="0"></div>
    </div>
    <button id="i_calc">Calcular</button>
    <div class="kpi" id="i_out"></div>
    <small class="muted">KPIs: Cnf%=NP/TOT ‚Ä¢ Clr%=CLR/TOT ‚Ä¢ Cnv%=CNV/TOT ‚Ä¢ Ctd%=CTD/TOT ‚Ä¢ Ccg=min ‚Ä¢ Prv=SDE/m√™s.</small>
  </fieldset>

  <!-- 5) UTM Builder -->
  <fieldset>
    <legend>Construtor UTM</legend>
    <div class="row">
      <div><label>URL base</label><input id="u_base" placeholder="https://seudominio.com/pagina"></div>
      <div><label>utm_source</label><input id="u_src" placeholder="instagram"></div>
    </div>
    <div class="row">
      <div><label>utm_medium</label><input id="u_med" placeholder="paid|organic|dm"></div>
      <div><label>utm_campaign</label><input id="u_cmp" placeholder="forjaelo_lancamento"></div>
    </div>
    <label>utm_content (opcional)</label>
    <input id="u_cnt" placeholder="carrossel_sde_0123">
    <button id="u_build">Gerar URL</button>
    <input id="u_out" class="mono" readonly placeholder="URL final com UTMs‚Ä¶">
  </fieldset>

  <!-- 6) Biblioteca de Copys (modelos r√°pidos) -->
  <fieldset>
    <legend>Copys R√°pidas (Semelhan√ßa ‚Ä¢ Seguran√ßa ‚Ä¢ Verdade ‚Ä¢ CTA)</legend>
    <div class="list">
      <div class="pill">Semelhan√ßa</div>
      <textarea id="lib_se" readonly class="mono">‚ÄúGente como voc√™, em [bairro], travava em [dor] e avan√ßou com um passo m√≠nimo.‚Äù</textarea>
      <div class="pill">Seguran√ßa</div>
      <textarea id="lib_seg" readonly class="mono">‚ÄúVamos testar em 12‚Äì30 min (online). Processo claro, sem prometer milagres.‚Äù</textarea>
      <div class="pill">Verdade</div>
      <textarea id="lib_v" readonly class="mono">‚ÄúN√£o fazemos [X]; crit√©rios: [Y,Z]. Se n√£o encaixar, paramos sem custo.‚Äù</textarea>
      <div class="pill">CTA</div>
      <textarea id="lib_cta" readonly class="mono">‚ÄúAgende sua sess√£o agora (link)‚Äù</textarea>
    </div>
    <button id="lib_copy">Copiar conjunto</button>
  </fieldset>

  <!-- 7) SSA 6.7 ‚Äî comandos prontos -->
  <fieldset>
    <legend>Comandos SSA 6.7 (apenas formata√ß√£o)</legend>
    <textarea id="ssa_cmd" class="mono" readonly>
SSA, organize as MINHAS notas abaixo em 4 blocos (Sil√™ncio, Semelhan√ßa, Seguran√ßa, Verdade) e gere 1 copy com CTA. N√£o invente nada. Texto: ‚Äπcolar minhas notas‚Ä∫.

SSA, formate a p√°gina ‚Äúespelho digital‚Äù do SDE ‚Äπcole o JSON‚Ä∫ em 5 linhas (Fato, Resultado, Hash abreviado, Timestamp, Pr√≥ximo passo).

SSA, consolide minhas m√©tricas ICx (totais, NP, CLR, CNV, CTD, CCG) e devolva os percentuais.
    </textarea>
    <button id="ssa_copy">Copiar comandos SSA</button>
  </fieldset>

  <p class="muted">Mantra Digital: <b>‚ÄúProva rastre√°vel (SDE). Copy honesta. Pr√≥ximo passo online. FORJA.‚Äù</b></p>
</main>

<script>
  // Tema
  const $=sel=>document.querySelector(sel);
  $('#theme').onclick=()=>{document.body.dataset.theme=document.body.dataset.theme==='dark'?'light':'dark'}

  // Reset
  $('#reset').onclick=()=>{document.querySelectorAll('input,textarea').forEach(e=>{if(!e.readOnly)e.value=''});$('#i_out').innerHTML='';$('#sde_id').textContent='SDE-';}

  // Funil Din√¢mico
  $('#fd_build').onclick=()=>{
    const s=$('#fd_s').value.trim(), se=$('#fd_se').value.trim(), seg=$('#fd_seg').value.trim(), v=$('#fd_v').value.trim(), cta=$('#fd_cta').value.trim();
    const blocks=[se, s, seg, v].filter(Boolean); // ordem inicial Semelhan√ßa ‚Üí Sil√™ncio ‚Üí Seguran√ßa ‚Üí Verdade
    const out = [blocks.join(' '), (cta?(' '+cta):'')].join('');
    $('#fd_out').value = out || 'Preencha pelo menos um bloco.';
  }

  // SDE ‚Äî Selo Digital de Espelho
  function toHex(buf){return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('')}
  async function sha256(txt){const enc=new TextEncoder().encode(txt);const buf=await crypto.subtle.digest('SHA-256',enc);return toHex(buf)}
  $('#sde_gen').onclick=async()=>{
    const nowLocal = ($('#sde_date').value || new Date().toISOString());
    const payload = {
      type:"SDE",
      title: $('#sde_title').value.trim(),
      timestamp: nowLocal,
      timezone: "America/Sao_Paulo",
      summary: $('#sde_body').value.trim(),
      urls: ($('#sde_urls').value.trim().split('\n').filter(x=>x)),
      endorsements: ($('#sde_endorse').value.trim().split('\n').filter(x=>x))
    };
    const json = JSON.stringify(payload);
    const hash = await sha256(json);
    const id = `SDE-${nowLocal.replace(/[:T\-\.Z]/g,'').slice(0,12)}-${hash.slice(0,8)}`;
    $('#sde_id').textContent=id;
    $('#sde_json').value=JSON.stringify({...payload, sha256:hash, id}, null, 2);
  }
  $('#sde_copy').onclick=()=>{navigator.clipboard.writeText($('#sde_json').value||'');}

  // Claim Log
  const claims=[];
  function renderClaims(){ $('#cl_list').value=JSON.stringify(claims,null,2); }
  $('#cl_add').onclick=()=>{
    const item={
      ts:new Date().toISOString(),
      claim:$('#cl_claim').value.trim(),
      channel:$('#cl_channel').value,
      sde:$('#cl_sde').value.trim(),
      status:$('#cl_status').value,
      utm:$('#cl_utm').value.trim()
    };
    claims.push(item); renderClaims();
  }
  $('#cl_copy').onclick=()=>navigator.clipboard.writeText($('#cl_list').value||'');
  $('#cl_clear').onclick=()=>{claims.length=0;renderClaims();}

  // ICx
  $('#i_calc').onclick=()=>{
    const tot=+$('#i_tot').value||0, np=+$('#i_np').value||0, clr=+$('#i_clr').value||0, cnv=+$('#i_cnv').value||0, ctd=+$('#i_ctd').value||0, ccg=+$('#i_ccg').value||0;
    const pct=(n)=>tot?((n/tot*100).toFixed(1)+'%'):'0.0%';
    const html = `
      <div><b>Cnf</b><div>${pct(np)}</div></div>
      <div><b>Clr</b><div>${pct(clr)}</div></div>
      <div><b>Cnv</b><div>${pct(cnv)}</div></div>
      <div><b>Ctd</b><div>${pct(ctd)}</div></div>
      <div><b>Ccg</b><div>${ccg} min</div></div>
      <div><b>Prv</b><div>${(claims.filter(c=>c.sde).length)} SDE</div></div>
    `;
    $('#i_out').innerHTML=html;
  }

  // UTM
  function buildUTM(base,params){const q=new URLSearchParams(params);return `${base}${base.includes('?')?'&':'?'}${q.toString()}`}
  $('#u_build').onclick=()=>{
    const base=$('#u_base').value.trim(); if(!base){$('#u_out').value='Informe a URL base.';return}
    const url=buildUTM(base,{utm_source:$('#u_src').value.trim(),utm_medium:$('#u_med').value.trim(),utm_campaign:$('#u_cmp').value.trim(),utm_content:$('#u_cnt').value.trim()||undefined});
    $('#u_out').value=url;
  }

  // Biblioteca / SSA copy
  $('#lib_copy').onclick=()=>{navigator.clipboard.writeText(
    `Semelhan√ßa: ${$('#lib_se').value}\nSeguran√ßa: ${$('#lib_seg').value}\nVerdade: ${$('#lib_v').value}\nCTA: ${$('#lib_cta').value}`
  )}
  $('#ssa_copy').onclick=()=>{navigator.clipboard.writeText($('#ssa_cmd').value)}
</script>
</body>
</html>
